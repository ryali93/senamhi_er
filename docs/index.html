<!DOCTYPE html>
<html lang="en" class="no-js"><!--<![endif]-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta content="Antero Matos Zabarburu" name="author" />
    <meta content="Visor de Informacion Espacial del SENAMHI-PERU" name="description" />
    <link rel="icon" href="assets/img/ide/favicon.ico">
    <title>IDESEP</title>
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <link href="assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
    <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/animate.min.css" rel="stylesheet" />
    <link href="assets/css/style.min.css" rel="stylesheet" />
    <link href="assets/css/style-responsive.min.css" rel="stylesheet" />
    <link href="assets/css/theme/default.css" rel="stylesheet" id="theme" />

    <link href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/css/ol.css" rel="stylesheet">
    <link href="assets/css/ol3-sidebar.css" rel="stylesheet"/>

    <!-- ================== END BASE CSS STYLE ================== -->
    <!-- ================== END BASE CSS STYLE ================== -->
    <!-- ================== BEGIN BASE JS ================== -->
    
    <!-- ================== BEGIN BASE JS ================== -->
    <script src="assets/plugins/pace/pace.min.js"></script>
    <!-- ================== END BASE JS ================== -->
    <!-- ================== END BASE JS ================== -->
    <!-- ================== BEGIN OL3 ================== -->
    <link type="text/css" rel="stylesheet" href="assets/plugins/openlayer/ol3/3.17.1/css/ol.css">
    <script type="text/javascript" src="assets/plugins/openlayer/ol3/3.17.1/js/ol.js"></script>
    <script type="text/javascript" src="assets/plugins/openlayer/src/proj4js/proj4.js"></script>
    <!-- <script type="text/javascript" src="https://unpkg.com/elm-pep.js"></script> -->
    <!-- <script type="text/javascript" src="getfeatureinfo-image.js"></script> -->

    <!--
    <link type="text/css" rel="stylesheet" href="assets/plugins/openlayer/src/ol3-layerswitcher/ol3-layerswitcher.css"/>
    <script type="text/javascript" src="assets/plugins/openlayer/src/ol3-layerswitcher/ol3-layerswitcher.js"></script>
    -->
    <link type="text/css" rel="stylesheet" href="assets/plugins/openlayer/canvas/control/layerswitchercontrol.css"/>
    <script type="text/javascript" src="assets/plugins/openlayer/canvas/control/layerswitchercontrol.js"></script>
    <script type="text/javascript" src="assets/plugins/openlayer/canvas/control/canvasscalelinecontrol.js"></script>
    <script type="text/javascript" src="assets/plugins/openlayer/canvas/interaction/clipinteraction.js"></script>
    <link type="text/css" rel="stylesheet" href="assets/plugins/openlayer/src/ol3-popup-master/src/ol3-popup.css">
    <script type="text/javascript" src="assets/plugins/openlayer/src/ol3-popup-master/src/ol3-popup.js"></script>

    <script type="text/javascript" src="assets/data.json"></script>
    <script type="text/javascript" src="assets/q_pp.json"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    <!-- ================== END OL3 ================== -->
    <!-- Swipe -->
    <!-- <link rel="stylesheet" href="http://viglino.github.io/ol3-ext/control/swipecontrol.css" type="text/css" />
    <script type="text/javascript" src="http://viglino.github.io/ol3-ext/control/swipecontrol.js"></script> -->
    <!-- ================== BEGIN PAGE LEVEL CSS ================== -->
    <link type="text/css" rel="stylesheet" href="assets/css/styleSheet1.css">
    <!-- ================== END PAGE LEVEL CSS ==================== -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-9445737-10"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-9445737-10');
    </script> -->
</head>
<body style="overflow:hidden;">
    <!-- begin #variables globales -->
    
    <input type="hidden" id="modoVisualizarCapaTematica" value=""/>
    <input type="hidden" id="radius" value=""/>
    <!-- end   #page-loader -->
    <!-- begin #page-loader -->
    
    <div id="page-loader" class="fade in"><span class="spinner"></span></div>
    <!-- end #page-loader -->
    <!-- begin #page-container -->
    <div id="page-container" class="page-container fade page-sidebar-fixed page-header-fixed">
        <!-- begin #header -->
        
        <div id="header" class="header navbar navbar-default navbar-fixed-top">
            <!-- begin container-fluid -->
            <div class="container-fluid">
                <!-- begin mobile sidebar expand / collapse button -->
                <div class="navbar-header">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <a href="//www.gob.pe/minam"  target="_blank" class="navbar-link"><img src="assets/img/ide/LOGO-MINAM-2016.png" alt="no disponible" style="margin: 0px 0px 0px 5px;"/></a>
                            <a href="//www.senamhi.gob.pe/" target="_blank" class="navbar-form"><img src="assets/img/ide/logo_senamhi.png" alt="no disponible" style="margin: 3px 0px 0px 0px;"/></a>
                            <button type="button" class="navbar-toggle" data-click="sidebar-toggled">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- end mobile sidebar expand / collapse button -->
                <!-- begin header navigation right -->
            </div>
            <!-- end container-fluid -->
        </div>
        <!-- end #header -->
        <!-- begin #sidebar -->
        
    <!-- <div class="sidebar-bg"></div> -->
    <!-- end #sidebar -->
    <!-- begin #content -->
    
    <!-- begin #content -->
    <div id="content" class="content content-full-width">
        <div class="map">
            <div id="map" class="height-full width-full"></div>
            <input type="hidden" id="proyeccion" value="EPSG:4326"/>
            <input type="hidden" id="extent" value="[-81.32812321186065, -18.350177324938613, -68.6519604921341, -0.039256808070482214]"/>
            <input type="hidden" id="presicion_decimal" value="12"/>
            <input type="hidden" id="key_bing_map" value="AhaJDO_bWhekq58C0nGLRkwJSMphRFDTYeccozENkqZTAAa1W0OgoaWmcgbPxatZ"/>
            <!-- <input type="hidden" id="url" value="http://idesep.senamhi.gob.pe/geoserver/g_00_02/wms"/> -->
            <input type="hidden" id="url" value="http://localhost:8081"/>
            <input type="hidden" id="lyr" value="g_00_02:00_02_002_03_000_000_0000_00_00"/>
            <input type="hidden" id="nomlyr" value="g_00_02:00_02_002_03_000_000_0000_00_00"/>
            <!-- <input type="hidden" id="dominio" value="http://idesep.senamhi.gob.pe"/> -->
            <input type="hidden" id="dominio" value="http://localhost:8081"/>

            <div id="sidebar_ol" class="sidebar_ol collapsed">
                <div class="sidebar_ol-tabs">
                    <ul role="tablist">
                        <li><a href="#lluvias" role="tab"><i class="fa fa-bars"></i></a></li>
                        <li><a href="#lluvias_graficos" role="tab"><i class="fa fa-bar-chart"></i></a></li>
                        <li><a href="#capas_switcher" role="tab"><i class="fa fa-globe"></i></a></li>
                    </ul>
                    <ul role="tablist">
                        <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
                    </ul>
                </div>
                <div class="sidebar_ol-content">
                    <div class="sidebar_ol-pane" id="lluvias">
                        <h1 class="sidebar_ol-header">Módulo de Lluvias extremas<span class="sidebar_ol-close"><i class="fa fa-caret-left"></i></span></h1>
                        <br>
                        <div style="display: flex;">
                            <p>La aplicación del análisis regional de frecuencias de las precipitaciones máximas en 24 horas y el enfoque de desagregación basado en las curvas sintéticas de Huff. El uso de estos resultados para propósitos de diseño de ingeniería debe ser tomado con cuidado y siempre considerando las bandas de confianza de las curvas de crecimiento regional y teniendo en cuenta que el período de las series de tiempo utilizadas en algunas regiones determinadas es corto, así como el número de estaciones para cada una de las regiones. </p>
                            <img src="assets/img/cosude_logo.svg" alt="Smiley face" width="50" height="55">

                        </div>
                        

                        <!-- <p>Retornar a la <b><a href="/">página principal</a></b></p> -->
                        <b>Consultar el <a href="/">manual de uso</a></b>
                        <br>
                        <br>
                        <div style="width: 100%;display: flex;">
                            <div style="width: 50%;">
                                <p id="infoVector"><b>Subregión: </b></p>
                                <p id="infoRaster"><b>PP Máxima: </b></p>
                            </div>
                            <div style="width: 50%;">
                                <p id="coord_x"><b>X (wgs84): </b></p>
                                <p id="coord_y"><b>Y (wgs84): </b></p>
                            </div>
                        </div>
                        
                        <!-- <pre id="info"/> -->

                        
                        <!-- <div id="container"></div> -->
                        <!-- Seleccionar coeficiente de duración adimensional: -->
                        <b>Seleccionar quartil:</b>
                        <br>
                        <select id="select_quartil" style="width: 70%;">
                            <option value="Q1">Quartil 1</option>
                            <option value="Q2">Quartil 2</option>
                            <option value="Q3">Quartil 3</option>
                            <option value="Q4">Quartil 4</option>
                        </select>
                        <br><br>
                        <b>Seleccionar Percentil:</b>
                        <br>
                        <select id="select_percentil" style="width: 70%;">
                            <option value="P10">Percentil 10</option>
                            <option value="P50">Percentil 50</option>
                            <option value="P90">Percentil 90</option>
                        </select>
                        <br><br>

                        <b>Seleccionar Periodo de Retorno (TR):</b>
                        <br>
                        <select id="select_tr" style="width: 70%;">
                            <option value="LM_TR2">TR 2</option>
                            <option value="LM_TR5">TR 5</option>
                            <option value="LM_TR10">TR 10</option>
                            <option value="LM_TR30">TR 30</option>
                            <option value="LM_TR50">TR 50</option>
                            <option value="LM_TR75">TR 75</option>
                            <option value="LM_TR100">TR 100</option>
                            <option value="LM_TR200">TR 200</option>
                            <option value="LM_TR500">TR 500</option>
                            <option value="LM_TR1000">TR 1000</option>
                        </select>
                        <br><br>

                        <div><button id="generate" onclick="generar_tb_pp()">Generar tabla</button></div>
                        <!-- <div id="sendbbox"></div> -->
                        <!-- <div id="control_aoi" onclick="sendbbox()"><br>
                                <input class="button is-primary" type="submit" value='Generar Tabla'>
                        </div> -->

                        <br><br>

                        <div id="tabla_datos" class="scrollme"></div>
                        <br>
                        <button onclick="exportTableToExcel('tabla_datos')">Exportar a Excel</button>

                    </div>
                    <div class="sidebar_ol-pane" id="lluvias_graficos"><h1 class="sidebar_ol-header">Gráficos<span class="sidebar_ol-close"><i class="fa fa-caret-left"></i></span></h1>

                        <br><br>
                        <button class="btn btn-primary btn-lg" id="render_btn">Generar gráfico</button>
                        <canvas id="graph_ddf" width="400" height="400"></canvas>
                        <br><br>
                        <canvas id="graph_ddf_2" width="400" height="400"></canvas>

                    </div>

                    <div class="sidebar_ol-pane" id="capas_switcher">
                        <h1 class="sidebar_ol-header">Capas<span class="sidebar_ol-close"><i class="fa fa-caret-left"></i></span></h1>
                    </div>
                    

                    
                    <!-- <div class="sidebar_ol-pane" id="messages"><h1 class="sidebar_ol-header">Messages<span class="sidebar_ol-close"><i class="fa fa-caret-left"></i></span></h1></div>
                    <div class="sidebar_ol-pane" id="settings"><h1 class="sidebar_ol-header">Settings<span class="sidebar_ol-close"><i class="fa fa-caret-left"></i></span></h1></div> -->
                </div>
            </div>
        </div>
        <div id="nodelist" style="display:none" class="table-responsive"></div>
    </div>
        
    <div class="theme-panel" style="margin-top: 80px">
        <a href="javascript:;" data-click="theme-panel-expand" class="theme-collapse-btn"><i class="fa fa-cog"></i></a>
        <div class="theme-panel-content">
            <ul class="theme-list clearfix">
                <li><a href="http://idesep.senamhi.gob.pe/geonetwork/" target="_blank">Metadato</a></li>
            </ul>
            
            <div class="row m-t-10">
                <div class="panel-group" id="accordion">
                    <div class="panel panel-inverse overflow-hidden">
                        <div class="panel-heading">
                            <h3 class="panel-title">
                            <a class="accordion-toggle accordion-toggle-styled" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                                <i class="fa fa-plus-circle pull-right"></i>
                                Leyenda
                            </a>
                            </h3>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse in"> <!--<div id="collapseOne" class="panel-collapse collapse">-->
                            <div id="legend">
                                <img src="http://idesep.senamhi.gob.pe/geoserver/g_00_02/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=20&HEIGHT=20&LAYER=g_00_02:00_02_002_03_000_000_0000_00_00">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- end theme-panel -->
<!-- begin scroll to top btn -->

<a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
<!-- end scroll to top btn -->

<!-- end page container -->
<!-- ================== BEGIN BASE JS ================== -->

<!-- ================== BEGIN BASE JS ================== -->
<script src="assets/plugins/jquery/jquery-1.9.1.min.js"></script>
<script src="assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
<script src="assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<!--[if lt IE 9]>
<script src="assets/crossbrowserjs/html5shiv.js"></script>
<script src="assets/crossbrowserjs/respond.min.js"></script>
<script src="assets/crossbrowserjs/excanvas.min.js"></script>
<![endif]-->
<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="assets/plugins/jquery-cookie/jquery.cookie.js"></script>
<!-- ================== END BASE JS ================== -->
<!-- ================== END BASE JS ================== -->
<!-- ================== BEGIN PAGE LEVEL JS ================== -->
<script src="assets/js/apps.min.js"></script>
<script src="assets/js/map-ol3.min.js"></script>
<script src="assets/js/ol3-sidebar.js"></script>
<script src="assets/js/elm-pep.js"></script>
<!-- ================== END PAGE LEVEL JS ==================== -->
<script>
    $(document).ready(function () {
        App.init();
        //variable iniciales
        var proyeccion = $("#proyeccion").val();
        var extent = JSON.parse($("#extent").val());
        var presicionDecimal = $("#presicion_decimal").val();
        var wmsCurrent = $("#url").val();
        var layerCurrent = $("#lyr").val();
        var layerCurrentTitle = $("#nomlyr").val();//$("#titulo_tematico").val().toUpperCase();
        var wmsMapaBase = $("#url").val();
        var keyBingMap = $("#key_bing_map").val();
        var dominio = $("#dominio").val();
        MapOpenLayer.init(proyeccion, extent, presicionDecimal, wmsCurrent, layerCurrent, layerCurrentTitle, wmsMapaBase, keyBingMap, dominio);
    });
</script>

<script>
    var data_regiones = JSON.parse(datos_regiones)[0];
    console.log(data_regiones);

    var q_pp = JSON.parse(quartiles_pp);
    var trs = q_pp["features"][0]["properties"];
    console.log(trs);

    var generar_tb_pp = function() {
        var tr_anos = ["TR_2","TR_5","TR_10","TR_30","TR_50","TR_75","TR_100","TR_200","TR_500","TR_1000"];
        // var region = "A1";//document.getElementById('select_quartil').value;
        var region = document.getElementById("infoVector").innerText.replace("Subregión: ","");
        var trs_tr = parseFloat(document.getElementById("infoRaster").innerText.replace("PP Máxima: ", ""));
        var quartil = document.getElementById('select_quartil').value;
        var percentil = document.getElementById('select_percentil').value;
        var tr = document.getElementById('select_tr').value;
        var val_temp;

        console.log(trs_tr);
        console.log(data_regiones[region][quartil][percentil]);

        var tabla_datos = "<table id='dtHorizontal' class='table table-striped' width=100%>";
        // tabla_datos += "<tr><th align=center>Horas</th><th align=center>"+percentil+"</th><th align=center>PP</th><th align=center>"+trs_tr.toFixed(2)+"</th></tr>";
        tabla_datos += "<thead><tr><th align=center>Duración</th>";

        for(cab=0;cab<=9;cab++){
            tabla_datos+="<th>"+tr_anos[cab]+"</th>";
        };

        tabla_datos += "</tr></thead><tbody>";
        for(j=0;j<=23;j++){
            var n = j+1
            // console.log(q_pp[tr])

            var val_pp_mn = data_regiones[region][quartil]["P10"];
            var val_pp_me = data_regiones[region][quartil]["P50"];
            var val_pp_mx = data_regiones[region][quartil]["P90"];

            var val_hiet_mn = (val_pp_mn[j]*trs_tr).toFixed(2);
            var val_hiet_me = (val_pp_me[j]*trs_tr).toFixed(2);
            var val_hiet_mx = (val_pp_mx[j]*trs_tr).toFixed(2);

            // var val_pp = data_regiones[region][quartil][percentil];
            // var val_hiet = (val_pp[j]*trs_tr).toFixed(2);

            if(n==1){
                val_temp_mn = val_hiet_mn;
                val_temp_me = val_hiet_me;
                val_temp_mx = val_hiet_mx;
            }else{
                val_temp_mn = val_pp_mn[j]*trs_tr - val_pp_mn[j-1]*trs_tr;
                val_temp_me = val_pp_me[j]*trs_tr - val_pp_me[j-1]*trs_tr;
                val_temp_mx = val_pp_mx[j]*trs_tr - val_pp_mx[j-1]*trs_tr;
            };
            console.log(val_temp_me);
            tabla_datos += "<tr><td align=center>"+n+"-hr";
            tabla_datos += "</td><td align=center>"+val_pp_me[j];
            tabla_datos += "</td><td align=center>"+val_hiet_me;
            tabla_datos += "</td><td align=center style='padding: 0px;'>";
            tabla_datos += "<strong>"+parseFloat(val_temp_me).toFixed(2)+"</strong>";
            tabla_datos += "("+parseFloat(val_temp_mn).toFixed(2)+"-"+parseFloat(val_temp_mx).toFixed(2)+")";
            tabla_datos += "</td></tr>";
            // val_temp = parseFloat(val_hiet) - val_temp
        }
        tabla_datos += "</tbody></table>";
        document.getElementById("tabla_datos").innerHTML = tabla_datos;

    }

    var exportTableToExcel = function(tableID, filename = ''){
        var downloadLink;
        var dataType = 'application/vnd.ms-excel';
        var tableSelect = document.getElementById(tableID);
        var tableHTML = tableSelect.outerHTML.replace(/ /g, '%20');
        
        filename = filename?filename+'.xls':'excel_data.xls';
        downloadLink = document.createElement("a");
        
        document.body.appendChild(downloadLink);
        
        if(navigator.msSaveOrOpenBlob){
            var blob = new Blob(['\ufeff', tableHTML], {
                type: dataType
            });
            navigator.msSaveOrOpenBlob( blob, filename);
        }else{
            downloadLink.href = 'data:' + dataType + ', ' + tableHTML;
            downloadLink.download = filename;
            downloadLink.click();
        }
    }
</script>
<script>
    var create_graph = function() {
        // var region = "S3";//document.getElementById('select_quartil').value;
        var region = document.getElementById("infoVector").innerText.replace("Subregión: ","");
        var trs_tr = parseFloat(document.getElementById("infoRaster").innerText.replace("PP Máxima: ", ""));

        var quartil = document.getElementById('select_quartil').value;
        var percentil = document.getElementById('select_percentil').value;
        var tr = document.getElementById('select_tr').value;
        var val_temp;

        var graph = document.getElementById("graph_ddf");
        var q_pp = JSON.parse(quartiles_pp);

        var trs = q_pp["features"][0]["properties"];
        var val_pp = data_regiones[region][quartil][percentil];
        
        var lista_horas = [];
        var lista_perc = [];
        var lista_hiet = [];
        var lista_pp = [];

        for(j=0;j<=23;j++){
                var n = j+1;
                lista_horas.push(String(n));
                var val_hiet = (val_pp[j]*trs_tr).toFixed(2);
                if(n==1){
                    val_temp = val_hiet;
                }else{
                    val_temp = val_pp[j]*trs_tr - val_pp[j-1]*trs_tr;
                };
                lista_pp.push(val_temp);
            };

        Chart.defaults.global.defaultFontFamily = "Lato";
        Chart.defaults.global.defaultFontSize = 12;

        var dataFirst = {
            label: "Hietograma de tormenta",
            data: lista_pp,
            lineTension: 0,
            fill: false,
            backgroundColor: "#3e95cd"
          };

        var chartData = {
            labels: lista_horas,
            datasets: [dataFirst]
        };

        var chartOptionsBar = {
          scales: {
            xAxes: [{
              barPercentage: 1,
              scaleLabel: {
                display: true,
                labelString: "Tiempo (Horas)"
              }
            }],
            yAxes: [{
              id: "y-axis-density",
              scaleLabel: {
                display: true,
                labelString: "Precipitación (mm)"
              }
            }]
          }
        };

        const ctx = document.getElementById("graph_ddf").getContext('2d');

        var barChart = new Chart(graph, {
          type: 'bar',
          data: chartData,
          options: chartOptionsBar
        });
    };

    ////////////////////////////////////////////////////////////////////////////
    var graph_ddf_2 = document.getElementById("graph_ddf_2");

        var graph_TR2 = {
            label: "LM_TR2",
            data: [2.28,4.70,9.41,16.82,29.23,39.07,46.77,54.48,60.61,66.31,71.31,76.72,81.43,86.57,91.41,97.26,102.68,107.67,113.81,119.65,125.36,131.21,136.91,142.62],
            borderColor: 'red',
            pointStyle: 'line'
          };

        var graph_TR5 = {
            label: "LM_TR5",
            data: [2.11,4.36,8.72,15.59,27.10,36.22,43.36,50.50,56.18,61.47,66.1,71.12,75.48,80.24,84.74,90.16,95.18,99.81,105.49,110.91,116.20,121.62,126.91,132.2],
            borderColor: 'blue',
            pointStyle: 'line'
          };

        var graph_TR10 = {
            label: "LM_TR10",
            data: [1.79,3.70,7.40,13.23,23.00,30.74,36.80,42.86,47.68,52.17,56.1 ,60.36,64.06,68.10,71.92,76.52,80.78,84.71,89.53,94.13,98.62,103.22,107.71,112.2],
            borderColor: 'pink',
            pointStyle: 'line'
          };

        var TR_data = {
          labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],
          datasets: [graph_TR2, graph_TR5, graph_TR10]
        };

        var chartOptionsLine = {
          fontSize:10,
          legend: {
            display: true,
            position: 'bottom',
            labels: {
              fontColor: 'black',
              fontSize: 10,
              usePointStyle: true
            }
          }
        };

        var lineChart = new Chart(graph_ddf_2, {
          type: 'line',
          data: TR_data,
          options: chartOptionsLine
        });
    ////////////////////////////////////////////////////////////////////////////

    $(document).ready(function() {
      $("#render_btn").on("click", function(e) {
        e.preventDefault();
        create_graph();
        // console.log(chartData);
        graph_ddf.update();

      });
    });
    
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#dtHorizontal').DataTable({
            "scrollX": true
        })
    });
</script>
</body>
</html>
